!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b){"use strict";var c=Object.assign(Object.create(HTMLElement.prototype),{el:null,itemWidth:0,itemName:"as24-gallery-item",items:null,duplicateClass:"duplicate",positions:[],touchStart:{},touchPrev:{},numberOfItemsToPreload:2,createdCallback:function(){var a,b=this,c=500;$(window).on("resize",function(){a&&clearTimeout(a),a=setTimeout(function(){b.init()},c)}),this.el=$(this),this.items=this.el.children(this.itemName),this.items.length<2&&this.handleEdgecases(),this.init(!0),$(".left",this.el).click(function(){var a=b.positions;b.moveLeft(),b.items.each(function(b){$(this).css("left",a[b])}),b.load()}),$(".right",this.el).click(function(){var a=b.positions;b.moveRight(),b.items.each(function(b){$(this).css("left",a[b])}),b.load()}),this.el.on("touchstart",function(a){$("as24-gallery-item",b.el).addClass("no-transition"),b.resetTouch(),$(a.target).hasClass("right")||$(a.target).hasClass("left")||(b.touchStart=b.getTouchCoords(a),b.touchPrev=b.touchStart)}),this.el.on("touchmove",function(a){if(b.isSwiping()){var c=b.getTouchCoords(a),d=Math.abs(c.x-b.touchStart.x),e=Math.abs(c.y-b.touchStart.y);if(e>d){$("as24-gallery-item",b.el).removeClass("no-transition");var f=b.positions;b.items.each(function(a){$(this).css("left",f[a])}),b.resetTouch()}else{a.preventDefault();var g=c.x-b.touchPrev.x;b.touchPrev=c,b.moveItems(g)}}}),this.el.on("touchend",function(a){if($("as24-gallery-item",b.el).removeClass("no-transition"),b.isSwiping()){for(var c=b.getTouchCoords(a.changedTouches[0]),d=b.touchStart.x-c.x,e=Math.abs(d),f=Math.ceil(e/b.itemWidth),g=0;f>g;g++)d>0?(b.moveRight(),b.load()):0>d&&(b.moveLeft(),b.load());var h=b.positions;b.items.each(function(a){$(this).css("left",h[a])})}}),this.pager()},init:function(a){this.itemWidth=this.calculateItemWidth(),this.fillItems(),this.positionElements(a),this.resizeOverlays()},resizeOverlays:function(){var a=$(".right, .left",this.el),b=parseInt(a.css("min-width"));b+=parseInt(this.items.first().css("margin-left")),a.toggleClass("pagination-small",this.itemWidth+2*b>=this.el.width());var c=0;if(this.items.length>1){c=this.el[0].clientWidth/2-this.itemWidth/2;var d=this.items.first();c-=parseInt(d.css("margin-left"))}a.css("width",c)},fillItems:function(){var a=this.items.length;if(!(2>a)){var b=this.el[0].clientWidth-a*this.itemWidth;if(b>0)for(var c=Math.ceil(Math.ceil(b/this.itemWidth)/a)*a,d=a,e=1;c>=e;e++){var f=e%a;f=f||a,d+=1;var g=$('[data-number="'+f+'"').clone().data("number",d).addClass(this.duplicateClass),h=$('[data-number="'+(d-1)+'"]');h.after(g)}}},pager:function(){var a=this.items,b=a.filter(".duplicate"),c=a.length-b.length,d=Math.ceil(a.length/2),e=$(a[d-1]).data("number"),f=e%c||c;$(".pager",this.el).html(f+"/"+c)},calculateItemWidth:function(){var a=this.items.first(),b=0;return a.length>0&&(b=a.width(),b+=parseInt(a.css("margin-left")),b+=parseInt(a.css("margin-right"))),b},handleEdgecases:function(){$(".left, .right, .pager",this.el).hide(),0===this.items.length&&$(".placeholder",this.el).show()},positionElements:function(a){var b=this,c=this.items.length,d=Math.ceil(c/2),e=(this.el[0].clientWidth-this.itemWidth)/2;a&&(this.items.each(function(a,d){c/2>=a&&b.el.append(d)}),this.items=this.el.children(this.itemName)),this.positions=[],this.items.each(function(a,c){var f=a+1-d,g=e+f*b.itemWidth;b.positions.push(g),$(c).css("left",g)}),this.load()},load:function(){var a=this,b=this.items.length,c=Math.ceil(b/2),d=(this.el[0].clientWidth-this.itemWidth)/2;this.items.each(function(b,e){var f=b+1-c,g=d+f*a.itemWidth;if(g+a.itemWidth+a.numberOfItemsToPreload*a.itemWidth>0&&g-a.numberOfItemsToPreload*a.itemWidth<a.el.width()){var h=$("[data-src]",e);h.length>0&&(h[0].src=h.data("src"),h.attr("data-src",null))}})},moveLeft:function(){this.items.last().insertBefore(this.items.first()),this.items=this.el.children(this.itemName),this.pager()},moveRight:function(){this.items.first().insertAfter(this.items.last()),this.items=this.el.children(this.itemName),this.pager()},moveItems:function(a){var b,c=this.itemWidth;this.items.each(function(d){b||(b=parseInt($(this).css("left"))),$(this).css("left",b+d*c+a)})},resetTouch:function(){this.touchStart={},this.touchPrev={}},isSwiping:function(){return Object.keys(this.touchStart).length>0},getTouchCoords:function(a){var b=a.touches&&a.touches[0];return{x:a.clientX||b&&b.clientX,y:a.clientY||b&&b.clientY}}});document.registerElement("as24-gallery",{prototype:c})}]);
//# sourceMappingURL=showcar-gallery.min.js.map