!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(){this.carousel=new g(this)}var e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=function(){function a(b){c(this,a),this.element=$(b),this.items=$("as24-carousel-item",this.element),this.container=null,this.pagination={left:null,right:null},this.offset=0,this.itemWidth=310,this.touchStart={},this.touchPrev={},this.wrapContainer(),this.loadPagination(),this.showRightPagination(),this.loadVisibleImages(),this.element.on("slide",this.paginate.bind(this)),this.element.on("touchstart",this.onTouchStart.bind(this)),this.element.on("touchmove",this.onTouchMove.bind(this)),this.element.on("touchend",this.onTouchEnd.bind(this))}return f(a,[{key:"onTouchStart",value:function(a){var b=$(a.target);this.items.addClass("no-transition"),this.resetTouch(),b.hasClass("as24-pagination")||(this.touchStart=this.getTouchCoords(a),this.touchPrev=this.touchStart)}},{key:"onTouchMove",value:function(a){if(this.isSwiping()){var b=this.getTouchCoords(a),c=Math.abs(b.x-this.touchStart.x),d=Math.abs(b.y-this.touchStart.y);d>c?(this.items.removeClass("no-transition"),this.resetTouch()):(a.preventDefault(),this.touchPrev=b)}}},{key:"onTouchEnd",value:function(a){if(this.items.removeClass("no-transition"),this.isSwiping())for(var b=this.getTouchCoords(a.changedTouches[0]),c=this.touchStart.x-b.x,d=Math.abs(c),e=Math.ceil(d/this.itemWidth),f=0;e>f;f++)c>0?this.paginate(null,"right"):0>c&&this.paginate(null,"left")}},{key:"getTouchCoords",value:function(a){var b=a.touches&&a.touches[0];return{x:a.clientX||b&&b.clientX,y:a.clientY||b&&b.clientY}}},{key:"resetTouch",value:function(){this.touchStart={},this.touchPrev={}}},{key:"isSwiping",value:function(){return Object.keys(this.touchStart).length>0}},{key:"wrapContainer",value:function(){this.container=this.element.children().wrapAll('<div class="as24-carousel-container">').parent(),this.container.wrapAll('<div class="as24-carousel-wrapper">')}},{key:"hideLeftPagination",value:function(){this.pagination.left.addClass("hide")}},{key:"hideRightPagination",value:function(){this.pagination.right.addClass("hide")}},{key:"showLeftPagination",value:function(){this.pagination.left.removeClass("hide")}},{key:"showRightPagination",value:function(){this.pagination.right.removeClass("hide")}},{key:"loadPagination",value:function(){var a=this,b=$('<a href="#!" class="as24-pagination hide">');this.pagination.left=b.clone().data("dir","left").on("click touch",function(){a.element.trigger("slide",["left"])}),this.pagination.right=b.clone().data("dir","right").on("click touch",function(){a.element.trigger("slide",["right"])}),this.element.append(this.pagination.left).append(this.pagination.right)}},{key:"paginate",value:function(a,b){var c=this.items.first(),d=this.getItemWidth(c),e=this.getMinOffset(),f=void 0;switch(b){case"left":var g=0;f=this.offset+d,f>g&&(d=g+Math.abs(this.offset)),this.offset+=d;break;case"right":f=this.offset-d,e>f&&(d=Math.abs(e)-Math.abs(this.offset)),this.offset-=d}0===this.offset?(this.hideLeftPagination(),this.element.css({margin:"0 0 0 20px"})):this.showLeftPagination(),e>=this.offset?(this.hideRightPagination(),this.element.css({margin:"0 20px 0 0"})):this.showRightPagination(),this.loadVisibleImages(),this.container.css("transform","translate3d("+this.offset+"px, 0, 0)")}},{key:"getMinOffset",value:function(){var a=this,b=0;return this.items.each(function(c,d){b+=a.getItemWidth($(d))}),-b+this.getViewWidth()+2*parseInt(this.items.last().css("margin-right"),10)}},{key:"isItemVisible",value:function(a){var b=this.getViewDimension().left,c=a.offset(),d=c.left+c.width<b-this.offset,e=c.left>b-this.offset+this.getViewWidth();return!d&&!e}},{key:"loadImagesForItem",value:function(a){var b=$("img[data-src]",a);b.each(function(a,b){var c=$(b);c.attr("src",c.data("src")).removeAttr("data-src")})}},{key:"loadVisibleImages",value:function(){var a=this;this.items.each(function(b,c){var d=$(c),e=a.element.offset(),f=e.width;310>f&&(a.itemWidth=e.width-20,d.css({width:a.itemWidth,height:e.height})),a.isItemVisible(d)&&a.loadImagesForItem(c)})}},{key:"getItemWidth",value:function(a){var b=2*parseInt(a.css("margin-right"),10);return a.width()+b}},{key:"getViewWidth",value:function(){return this.element.width()}},{key:"getViewDimension",value:function(){return this.element.offset()}}]),a}();try{document.registerElement("as24-carousel",{prototype:e(Object.create(HTMLElement.prototype,{createdCallback:{value:d}}))})}catch(h){window&&window.console&&window.console.warn('Failed to register CustomElement "as24-carousel".',h)}}]);
//# sourceMappingURL=showcar-carousel.min.js.map