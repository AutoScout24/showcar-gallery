!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b){"use strict";var c=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},d=c(Object.create(HTMLElement.prototype),{el:null,itemWidth:0,items:null,duplicateClass:"duplicate",positions:[],touchStart:{},touchPrev:{},numberOfItemsToPreload:2,centerFirstItem:!0,focusSingleItem:!0,container:null,selectors:{itemName:"as24-gallery-item",leftPager:".left",rightPager:".right",pager:".pager"},createdCallback:function(){var a=this,b=void 0,c=500,d=$(this).data("preload-items");d&&(this.numberOfItemsToPreload=$(this).data("preload-items")),$(window).on("resize",function(){b&&clearTimeout(b),b=setTimeout(function(){a.init()},c)}),this.el=$(this),this.container=$(this.selectors.itemName,this.el).parent(),this.items=$(this.selectors.itemName,this.container),this.centerFirstItem=!1!==$(this).data("center-first-item"),this.focusSingleItem=!1!==$(this).data("focus-single-item"),this.items.each(function(a,b){$(b).attr("data-number",a+1)}),this.items.length<2&&this.handleEdgecases(),this.init(!0),$(this.selectors.leftPager,this.el).click(function(){var b=a.positions;a.moveLeft(),a.items.each(function(a,c){$(c).css("left",b[a])}),a.load()}),$(this.selectors.rightPager,this.el).click(function(){var b=a.positions;a.moveRight(),a.items.each(function(a,c){$(c).css("left",b[a])}),a.load()}),this.el.on("touchstart",function(b){var c=$(b.target);$(a.selectors.itemName,a.container).addClass("no-transition"),a.resetTouch(),c.hasClass("right")||c.hasClass("left")||(a.touchStart=a.getTouchCoords(b),a.touchPrev=a.touchStart)}),this.el.on("touchmove",function(b){if(a.isSwiping()){var c=a.getTouchCoords(b),d=Math.abs(c.x-a.touchStart.x),e=Math.abs(c.y-a.touchStart.y);if(e>d)!function(){$(a.selectors.itemName,a.container).removeClass("no-transition");var b=a.positions;a.items.each(function(a,c){$(c).css("left",b[a])}),a.resetTouch()}();else{b.preventDefault();var f=c.x-a.touchPrev.x;a.touchPrev=c,a.moveItems(f)}}}),this.el.on("touchend",function(b){if($(a.selectors.itemName,a.container).removeClass("no-transition"),a.isSwiping()){for(var c=a.getTouchCoords(b.changedTouches[0]),d=a.touchStart.x-c.x,e=Math.abs(d),f=Math.ceil(e/a.itemWidth),g=0;f>g;g++)d>0?(a.moveRight(),a.load()):0>d&&(a.moveLeft(),a.load());var h=a.positions;a.items.each(function(a,b){$(b).css("left",h[a])})}})},init:function(a){this.itemWidth=this.calculateItemWidth(),this.fillItems(),this.positionElements(a),this.focusSingleItem&&this.resizeOverlays()},resizeOverlays:function(){var a=$(this.selectors.rightPager+", "+this.selectors.leftPager,this.el),b=parseInt(a.css("min-width"));b+=parseInt(this.items.first().css("margin-left")),a.toggleClass("pagination-small",this.itemWidth+2*b>=this.container.width());var c=0;if(this.items.length>1){c=this.el[0].clientWidth/2-this.itemWidth/2;var d=this.items.first();c-=parseInt(d.css("margin-left"))}a.css("width",c)},fillItems:function(){var a=this.items.length,b=1;if(!(2>a||(a>2&&(b=this.container.get(0).clientWidth-a*this.itemWidth),0>=b))){for(var c=Math.ceil(Math.ceil(b/this.itemWidth)/a)*a,d=a,e=1;c>=e;e++){var f=e%a;f=f||a,d+=1;var g=$('[data-number="'+f+'"]').clone().data("number",d).addClass(this.duplicateClass),h=$('[data-number="'+(d-1)+'"]');h.after(g)}this.items=$(this.selectors.itemName,this.container)}},pager:function(){var a=this.items.filter(".duplicate"),b=this.items.length-a.length,c=this.centerFirstItem?Math.ceil(this.items.length/2):1,d=$(this.items[c-1]).data("number"),e=d%b||b;$(this.selectors.pager,this.el).html(e+"/"+b)},calculateItemWidth:function(){var a=this.items.first(),b=0;return a.length>0&&(b=a.width(),b+=parseInt(a.css("margin-left"),10),b+=parseInt(a.css("margin-right"),10)),b},handleEdgecases:function(){$(this.selectors.leftPager+", "+this.selectors.rightPager+", "+this.selectors.pager,this.el).hide(),0===this.items.length&&$(".placeholder",this.el).show()},positionElements:function(a){var b=this,c=this.items.length,d=Math.ceil(this.items.length/2),e=this.centerFirstItem?(this.container.get(0).clientWidth-this.itemWidth)/2:0;a&&this.items.each(function(a,d){c/2>=a&&b.container.append(d)}),this.items=$(this.selectors.itemName,this.container),this.positions=[],this.items.each(function(a,c){var f=a+1-d,g=e+f*b.itemWidth;b.positions.push(g),$(c).css("left",g)}),$(this.selectors.pager,this.el).css("left",e+parseInt(this.items.first().css("margin-left"),10)),this.pager(),this.load()},load:function(){var a=this,b=this.items.length,c=Math.ceil(b/2),d=(this.container.get(0).clientWidth-this.itemWidth)/2;this.items.each(function(b,e){var f=b+1-c,g=d+f*a.itemWidth;if(g+a.itemWidth+a.numberOfItemsToPreload*a.itemWidth>0&&g-a.numberOfItemsToPreload*a.itemWidth<a.container.width()){var h=$("[data-src]",e);h.length>0&&(h[0].src=h.data("src"),h.attr("data-src",null))}})},moveLeft:function(){this.items.last().insertBefore(this.items.first()),this.items=$(this.selectors.itemName,this.container),this.pager()},moveRight:function(){this.items.first().insertAfter(this.items.last()),this.items=$(this.selectors.itemName,this.container),this.pager()},moveItems:function(a){var b=void 0,c=this.itemWidth;this.items.each(function(d,e){b||(b=parseInt($(e).css("left"))),$(e).css("left",b+d*c+a)})},resetTouch:function(){this.touchStart={},this.touchPrev={}},isSwiping:function(){return Object.keys(this.touchStart).length>0},getTouchCoords:function(a){var b=a.touches&&a.touches[0];return{x:a.clientX||b&&b.clientX,y:a.clientY||b&&b.clientY}},redraw:function(){this.init(!1)}});try{document.registerElement("as24-gallery",{prototype:d})}catch(e){window&&window.console&&window.console.warn('Failed to register CustomElement "as24-gallery".',e)}}]);
//# sourceMappingURL=showcar-gallery.min.js.map